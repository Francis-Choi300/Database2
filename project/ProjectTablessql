alter session set current_schema=s1_chyoonho;

Drop Table movieCategory
Create Table movieCategory 
(
CategoryID smallint NOT NULL CONSTRAINT pk_category PRIMARY KEY,
CategoryName Varchar(25)NOT NULL
);

--add check constraint first letter
-- change to BIGINT
DROP TABLE customerList
Create Table customerList
(
CustomerID varchar(2) NOT NULL CONSTRAINT pk_customer PRIMARY KEY,
FirstName varchar(20) NOT NULL,
LastName varchar(20) NOT NULL,
PhoneNumber varchar(20),
BirthDate Date,
DriverLicense INT,
Status varchar(20)
);
Drop table tapeList
CREATE Table TapeList
(
TapeID smallint NOT NULL CONSTRAINT pk_tapes PRIMARY KEY,
Title varchar(50) NOT NULL,
ReleaseYear int NOT NULL CONSTRAINT ck_year CHECK (ReleaseYear > 999 AND ReleaseYear < 2100),
Price decimal(4,2) NOT NULL CONSTRAINT ck_price CHECK (price > 0),
CategoryID smallint NOT NULL,
RentedOut varchar(4) NOT NULL CONSTRAINT ck_rented CHECK (RentedOut LIKE 'Yes' OR RentedOut LIKE 'No'),
Rating varchar(10) NOT NULL,
ActionOnReturn varchar(25) NOT Null Constraint ck_return 
    CHECK (ActionOnReturn LIKE 'Sell' OR ActionOnReturn LIKE 'Return to Shelf')
--CONSTRAINT fk_TapesCategory FOREIGN key (CategoryID)
--REFERENCES movieCategory(CategoryID)
);

--check on tape id so it is in TapeID, 
--check on Customer Id so it is in CustomerID
Drop Table Rentals
Create Table Rentals
(
RentalID smallint NOT null 
    Constraint ck_rentalID Check (RentalID > 1000)
    Constraint pk_rentals Primary Key,
RentalDate Date NOT NULL,
CustomerID varchar(2) NOT NULL,
TapeID smallint NOT NULL,

Constraint fk_rentals Foreign Key (CustomerID) 
    REFERENCES customerList(CustomerID),
Constraint fk_tape Foreign Key (TapeID)
    REFERENCES tapeList(TapeID)
);

